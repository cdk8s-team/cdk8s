# Getting started with cdk8s for Go
In this guide, we'll walk you through the process of building a basic Kubernetes application using cdk8s for Go.

## Prerequisites
1. To install the cdk8s CLI, you need the [Node Package Manager (npm)](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm) installed on your local machine. 
2. cdk8s for Go supports Go versions 1.16+. Check your Go version:
```bash
go version
```

## Set up an environment
### Initial setup
To get setup, follow these general steps:

1. To begin, you’ll need a development environment set-up to use Go modules. If you’re not familiar with this setup, use these instructions to [setup Go modules](https://golang.org/doc/tutorial/create-module).

### Install the CLI
To initialize a cdk8s project and auto-generate Kubernetes manifests based on our code, we need the cdk8s CLI:

1. Run the following command to install the CLI using [npm](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm). For more installation methods, see [Install the cdk8s CLI](cli/installation.md).
```console
npm install -g cdk8s-cli
```

### Create a project
Next, we’ll initialize a project to create the directory structure and install the necessary dependencies using the [init](https://cdk8s.io/docs/latest/cli/init/) command. 

1. In a terminal window, run the following command in an empty directory: 
```console
cdk8s init go-app
```

1. In your preferred code editor, open the `main.go` file. 
```go
package main

import (
	"github.com/aws/constructs-go/constructs/v10"
	"github.com/aws/jsii-runtime-go"
	"github.com/cdk8s-team/cdk8s-core-go/cdk8s/v2"
)

type MyChartProps struct {
	cdk8s.ChartProps
}

func NewMyChart(scope constructs.Construct, id string, props *MyChartProps) cdk8s.Chart {
	var cprops cdk8s.ChartProps
	if props != nil {
		cprops = props.ChartProps
	}
	chart := cdk8s.NewChart(scope, jsii.String(id), &cprops)

	// define resources here

	return chart
}

func main() {
	app := cdk8s.NewApp(nil)
	NewMyChart(app, "go", nil)
	app.Synth()
}
```

This sample shows the basic structure of a cdk8s application with the essential libraries: **constructs** and **cdk8s**. These libraries supply the foundational classes and methods required for working with cdk8s. It includes the following components:

   * A custom `NewMyChart` function that creates a specific instance of a [Chart](), a method responsible for initializing the ([Chart]()) base class and specifying the Kubernetes resources. 
   * An instance of the [App]() class signifies the primary entry point of the cdk8s application and oversees the application's lifecycle and resources.
   * An instance of the `MyChart` class is created by passing the app instance and a string identifier, "go", as arguments. This action generates and registers the Kubernetes resources defined in the `MyChart` class within the application. Note that in this example, the "go" string identifier is autogenerated based on the current directory name.
   * The `synth` method is called on the `app` instance, which produces the required Kubernetes YAML manifest files based on the defined resources. Note that in this example, we haven't defined any resources within the `MyChart` constructor, so running the "cdk8s synth" command in the CLI would generate a blank Kubernetes manifest.

## Define Kubernetes resources
Lorem ipsum.
### Copy the code sample
1. Copy and paste the following code sample into the existing `main.go` file of your project.
```go

```

A few things worth noting about this sample:

- Lorem ipsum.

## Generate Kubernetes manifests
After you have defined the Kubernetes resources for your application, you are ready to generate the Kubernetes manifest that will define your Deployment resource. 

### Run the synth command
1. Open a terminal and navigate to your project directory.
2. Run the [synth](https://cdk8s.io/docs/latest/cli/synth/) command. This command generates a Kubernetes manifest file in the `dist` folder of your project directory. The manifest file contains all the resources you defined inside the `MyChart` class.
```console
cdk8s synth
```

### View the manifest
1. Open the `dist/getting-started.k8s.yaml` file. You should see a Kubernetes manifest similar to the following:
```yaml

```

## Conclusion
Lorem ipsum.

## Next up
- To run a complete code sample, we recommend diving into the Kubernetes [Deployment](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/) and [Service](https://kubernetes.io/docs/concepts/services-networking/service/) using the [cdk8s-core](https://github.com/cdk8s-team/cdk8s-examples/blob/main/go/cdk8s-core/main.go) sample application.
